<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Média de Idades</title>
</head>
<body onload="iniciar()">
    <h1>Programa Finalizado</h1>
    <p>Para reiniciar pressione a tecla F5 ou recarregue a página</p>

    <script>
        function iniciar() {
            let idades = []
            let i = 0
            do {
                idades[i] = Number.parseInt(prompt(`Digite a idade da pessoa ${i+1}:`))
                if(idades[0] < 0) {
                    alert("Impossível calcular. Tente novamente!")
                    iniciar()
                }
                i++
            } while (idades[i-1] > 0)

            let soma = 0
            for(let index = 0; index < idades.length; index++) {
                soma += Math.abs(idades[index])
            }

            let media = soma / i
            
            alert(`A média de idade das ${i} pessoas é de ${media.toFixed(0)} anos`)
        }
    </script>    
</body>
</html>